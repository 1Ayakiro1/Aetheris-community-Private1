import{a5 as X,a6 as Y,a8 as a,ag as U,c as d,k as v,a as e,i as p,h as N,Z as P,N as o,ac as n,aj as S,Q as A,U as j,K as ee,_ as D,V as E,o as c,ae as te}from"./index-QOySC_5N.js";import{S as se}from"./SettingsSidebar-BpCjzKOG.js";const oe={class:"settings-profile-container"},le={class:"main-body"},ne={class:"content"},ae={class:"profile-section"},ie={class:"section-title"},re={class:"section-subtitle"},de={class:"section-title"},ce={class:"avatar-section"},pe={class:"avatar-buttons"},ue={class:"reset-text"},_e={class:"section-title"},ve={class:"section-subtitle"},he=["placeholder"],fe={key:0,class:"error-message"},ge={class:"bio-section"},me={class:"section-title"},ke={class:"section-subtitle"},we=["placeholder"],be={key:0,class:"error-message"},ye={class:"character-count"},Ce={class:"modal-header"},Me={class:"modal-title"},xe={class:"modal-body"},Be={class:"dropzone-content"},Ae={class:"dropzone-title"},De={class:"dropzone-subtitle"},ze={class:"dropzone-info"},Ve={key:0,class:"preview-area"},Fe=["src"],Le={class:"preview-info"},Ue={class:"file-name"},Ne={class:"file-size"},Pe={class:"modal-footer"},Se=["disabled"],je={class:"modal-header"},Ee={class:"modal-title"},He={class:"modal-body"},Re={class:"warning-title"},Oe={class:"warning-message"},Ze={class:"modal-footer"},Ie={class:"reset-panel-content"},Te={class:"reset-panel-text"},Ke={class:"reset-panel-buttons"},qe=X({__name:"SettingsProfile",setup(Ge){const{t:l}=Y(),u=a(""),h=a(""),f=a(""),g=a(""),w=a(!1),_=a(!1),i=a(null),b=a(""),z=a(null),y=a(!1),C=a(!1),H=s=>s.trim()?s.length>50?"Nickname must be no more than 50 characters":/^[a-zA-Zа-яА-ЯёЁ\s]+$/.test(s)?"":"Nickname can only contain Latin letters, Cyrillic letters and spaces":"Nickname is required",R=s=>s.length>300?"Bio must be no more than 300 characters":"";U(u,s=>{const t=s.replace(/[^a-zA-Zа-яА-ЯёЁ\s]/g,"");t!==s&&(u.value=t),f.value=H(u.value)}),U(h,s=>{g.value=R(s)});const O=()=>{w.value=!0,V()},M=()=>{w.value=!1,V()},V=()=>{i.value=null,b.value="",_.value=!1},F=()=>{z.value?.click()},Z=s=>{const r=s.target.files?.[0];r&&L(r)},I=s=>{s.preventDefault(),_.value=!1;const t=s.dataTransfer?.files;t&&t.length>0&&L(t[0])},T=s=>{s.preventDefault(),_.value=!0},K=s=>{s.preventDefault(),_.value=!1},L=s=>{if(!s.type.startsWith("image/")){alert("Please select an image file");return}if(s.size>5*1024*1024){alert("File size must be less than 5MB");return}i.value=s;const t=new FileReader;t.onload=r=>{b.value=r.target?.result},t.readAsDataURL(s)},q=s=>{if(s===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,k)).toFixed(2))+" "+r[k]},G=()=>{i.value&&(console.log("Uploading avatar:",i.value),alert("Avatar uploaded successfully!"),M())},Q=()=>{y.value=!0},m=()=>{y.value=!1},W=()=>{console.log("Deleting avatar..."),alert("Avatar deleted successfully!"),m()},$=()=>{C.value=!0},x=()=>{C.value=!1},J=()=>{console.log("Resetting profile settings..."),alert("Profile settings reset successfully!"),x()};return(s,t)=>{const r=N("AppHeader"),k=N("AppFooter");return c(),d("div",oe,[v(r),e("div",le,[v(se),e("div",ne,[e("div",ae,[e("h1",ie,o(n(l)("settings.display_profile.h1")),1),e("h2",re,o(n(l)("settings.display_profile.subtitle")),1),e("h1",de,o(n(l)("settings.display_profile.h2")),1),e("div",ce,[t[6]||(t[6]=e("div",{class:"avatar-placeholder"},null,-1)),e("div",pe,[e("button",{class:"avatar-button",onClick:O},o(n(l)("settings.display_profile.button1")),1),e("button",{class:"avatar-button",onClick:Q},o(n(l)("settings.display_profile.button2")),1)]),e("button",{class:"reset-button",onClick:$},[t[5]||(t[5]=e("svg",{class:"reset-icon",width:"27",height:"26",viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1.20831 3.02937V10.7742M1.20831 10.7742H8.45831M1.20831 10.7742L6.81498 5.14629C8.48358 3.36681 10.6484 2.21484 12.9831 1.86393C15.3179 1.51302 17.6962 1.98219 19.7597 3.20074C21.8231 4.4193 23.46 6.32123 24.4236 8.61996C25.3872 10.9187 25.6253 13.4897 25.1022 15.9456C24.579 18.4015 23.3228 20.6092 21.523 22.2362C19.7231 23.8631 17.477 24.8211 15.1231 24.9659C12.7693 25.1106 10.4351 24.4342 8.4724 23.0386C6.50968 21.643 5.02471 19.6038 4.24123 17.2282",stroke:"#9BA4AE","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("p",ue,o(n(l)("settings.display_profile.button3")),1)])]),e("h1",_e,o(n(l)("settings.display_profile.h3")),1),e("h2",ve,o(n(l)("settings.display_profile.subtitle3")),1),P(e("input",{type:"text",placeholder:n(l)("settings.display_profile.input_text1"),class:A(["nickname-input",{error:f.value}]),"onUpdate:modelValue":t[0]||(t[0]=B=>u.value=B)},null,10,he),[[S,u.value]]),f.value?(c(),d("p",fe,o(f.value),1)):p("",!0),e("div",ge,[e("h1",me,o(n(l)("settings.display_profile.h4")),1),e("h2",ke,o(n(l)("settings.display_profile.subtitle4")),1),P(e("textarea",{placeholder:n(l)("settings.display_profile.input_text2"),class:A(["bio-input",{error:g.value}]),"onUpdate:modelValue":t[1]||(t[1]=B=>h.value=B)},null,10,we),[[S,h.value]]),g.value?(c(),d("p",be,o(g.value),1)):p("",!0),e("p",ye,o(h.value.length)+"/300",1)])])])]),v(k),v(E,{name:"modal"},{default:j(()=>[w.value?(c(),d("div",{key:0,class:"modal-overlay",onClick:M},[e("div",{class:"modal-content",onClick:t[2]||(t[2]=D(()=>{},["stop"]))},[e("div",Ce,[e("h2",Me,o(n(l)("settings.display_profile.upload_panel.h1")),1),e("button",{class:"modal-close",onClick:M},[...t[7]||(t[7]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#9BA4AE","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),e("div",xe,[e("div",{class:A(["dropzone",{"drag-over":_.value}]),onDrop:I,onDragover:T,onDragleave:K,onClick:F},[e("div",Be,[t[8]||(t[8]=e("svg",{class:"upload-icon",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15M17 8L12 3M12 3L7 8M12 3V15",stroke:"#9BA4AE","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("h3",Ae,o(n(l)("settings.display_profile.upload_panel.h2")),1),e("p",De,o(n(l)("settings.display_profile.upload_panel.subtitle")),1),e("p",ze,o(n(l)("settings.display_profile.upload_panel.info")),1)])],34),i.value?(c(),d("div",Ve,[e("img",{src:b.value,alt:"Preview",class:"preview-image"},null,8,Fe),e("div",Le,[e("p",Ue,o(i.value.name),1),e("p",Ne,o(q(i.value.size)),1)])])):p("",!0)]),e("div",Pe,[e("button",{class:"modal-button secondary",onClick:F},[t[9]||(t[9]=e("svg",{class:"button-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M14 2V8H20",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ee(" "+o(n(l)("settings.display_profile.upload_panel.browse_button")),1)]),e("button",{class:"modal-button primary",onClick:G,disabled:!i.value},o(n(l)("settings.display_profile.upload_panel.upload_button")),9,Se)])])])):p("",!0)]),_:1}),v(E,{name:"modal"},{default:j(()=>[y.value?(c(),d("div",{key:0,class:"modal-overlay",onClick:m},[e("div",{class:"modal-content delete-modal",onClick:t[3]||(t[3]=D(()=>{},["stop"]))},[e("div",je,[e("h2",Ee,o(n(l)("settings.display_profile.remove_panel.h1")),1),e("button",{class:"modal-close",onClick:m},[...t[10]||(t[10]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#9BA4AE","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),e("div",He,[t[11]||(t[11]=e("div",{class:"warning-icon"},[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#FF6B6B","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("h3",Re,o(n(l)("settings.display_profile.remove_panel.h1")),1),e("p",Oe,o(n(l)("settings.display_profile.remove_panel.subtitle")),1)]),e("div",Ze,[e("button",{class:"modal-button secondary",onClick:m},o(n(l)("settings.display_profile.remove_panel.button1")),1),e("button",{class:"modal-button danger",onClick:W},o(n(l)("settings.display_profile.remove_panel.button2")),1)])])])):p("",!0)]),_:1}),C.value?(c(),d("div",{key:0,class:"reset-panel-overlay",onClick:x},[e("div",{class:"reset-panel",onClick:t[4]||(t[4]=D(()=>{},["stop"]))},[e("div",Ie,[e("p",Te,o(n(l)("settings.display_profile.reset_panel.h1")),1),e("div",Ke,[e("button",{class:"reset-panel-button cancel",onClick:x},o(n(l)("settings.display_profile.reset_panel.button1")),1),e("button",{class:"reset-panel-button confirm",onClick:J},o(n(l)("settings.display_profile.reset_panel.button2")),1)])])])])):p("",!0),e("input",{ref_key:"fileInput",ref:z,type:"file",accept:"image/*",onChange:Z,style:{display:"none"}},null,544)])}}}),$e=te(qe,[["__scopeId","data-v-f89ae805"]]);export{$e as default};
